<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV Show Profile</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="showprofile.css">
    <script src="sketch.js" defer></script>

    
</head>
<body>

<!-- TV Show Profile Content -->
<div class="show-profile-info">

    <div class="background-div-left"></div>
    <div class="background-div-right"></div>

    <div class="background-image">
        <img src="images/comedy.jpg">
    </div>

    <!-- left div -->
    <div class="show-left">
        <div class="show-pic">
            <img src="images/comedy.jpg">
        </div>
        <div class="streaming-on">Streaming On:</div>

        <div class="streaming-sites">
            <div class="streaming-placeholder">
                <img src="images/netflix.jpg">
            </div>
            <div class="streaming-placeholder">
                <img src="images/hulu.png">
            </div>
            <div class="streaming-placeholder">
                <img src="images/disney.jpg">
            </div>
        </div>

    </div>

    <!-- right div -->
    <div class="show-right">
        <div class="title-year">
            <h1>Family Guy</h1>
            <p>2024</p>
        </div>

        <div class="tvpg-genre">
            <div class="tvpg-rating">
                <p>PG-13</p>
            </div>
            <div class="genre">
                <p>Comedy</p>
            </div>
        </div>

        <div class="show-icons">
            <i class='bx bx-check-circle'></i>
            <i class='bx bxs-star'></i>
            <i class='bx bx-bookmark-plus'></i>
            <i class='bx bxs-message-rounded'></i>
        </div>

        <div class="show-description">
            <h3>Description</h3>
            <p>In a wacky Rhode Island town, a dysfunctional family strives to cope with 
                everyday life as they are thrown from one crazy scenario to another.
            </p>
        </div>

        <div class="rotten-tomato">Rotten Tomato Score:</div>

        <div class="circle-wrap">
            <div class="outer">
                <div class="inner">
                    <div id="number"></div>
                </div>

                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="160px" height="160px">
                    <defs>
                        <linearGradient id="GradientColor">
                            <stop offset="0%" stop-color="#DA22FF" />
                            <stop offset="100%" stop-color="#9733EE" />
                        </linearGradient>
                    </defs>
                    <circle id="circle" cx="80" cy="80" r="49" stroke-linecap="round" />
                </svg>
            </div>
        </div>

    </div>

</div>

<script>
    function updateProgress(percentage) {
        let number = document.getElementById("number");
        let counter = 0;

        setInterval(() => {
            if(counter == percentage) {
                clearInterval(interval);
            }
            else {
                counter += 1;
                number.innerHTML = `${counter}%`;
            }
        }, 12);

        const circle = document.querySelector('circle');
        const circumference = parseFloat(circle.getAttribute('stroke-dasharray'));
        const offset = circumference * (1 - percentage / 100);
        circle.style.strokeDashoffset = offset;
    }

    // Get the circle element
    const circle = document.querySelector('.circle');

    // Update the custom property value dynamically
    function updateDashOffset(percentage) {
        const circumference = 307.86; // Adjust this value based on your circle's circumference
        const dashOffset = circumference - (circumference * percentage / 100); 
        document.documentElement.style.setProperty('--dash-offset', `${dashOffset}`);
    }

    updateProgress(90);
    updateDashOffset(90);    
</script>

<style>
    
</style>

</body>
</html>